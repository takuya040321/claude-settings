# 見積もり手法リファレンス

## 1. 積み上げ法（ボトムアップ見積もり）

### 概要

プロジェクトを構成する個々のタスクの工数を見積もり、それらを合計して全体工数を算出する手法。

### 計算手順

#### Step 1: WBS作成と基準工数設定

各タスクに複雑度と基準工数を設定する。

**複雑度別の基準工数目安（人日）:**

| タスク種別 | 低 | 中 | 高 |
|-----------|-----|-----|-----|
| API エンドポイント（CRUD） | 0.5 | 1 | 2 |
| 画面（フォーム付き） | 1 | 2 | 4 |
| 画面（一覧表示） | 0.5 | 1 | 2 |
| 認証機能 | 2 | 3 | 5 |
| 決済連携 | 3 | 5 | 8 |
| 外部API連携 | 1 | 2 | 4 |
| バッチ処理 | 1 | 2 | 4 |
| テスト作成 | 基本工数の20% | 30% | 50% |
| ドキュメント | 基本工数の10% | 15% | 20% |

#### Step 2: 複雑度調整

```
調整後工数 = 基準工数 × 複雑度係数
```

**複雑度係数:**
- 低: 0.7
- 中: 1.0
- 高: 1.5

#### Step 3: 技術係数適用

```
技術調整後 = 調整後工数 × 技術係数
```

技術係数は `adjustment-factors.md` を参照。

#### Step 4: チーム係数適用

```
最終工数 = 技術調整後 × チーム係数
```

チーム係数は `adjustment-factors.md` を参照。

#### Step 5: バッファ追加

```
見積もり工数 = 最終工数 × 1.2（20%バッファ）
```

### 計算例

```
ECサイト構築の例:

基準工数:
- ユーザー認証: 3人日
- 商品一覧: 2人日
- カート機能: 3人日
- 決済連携: 5人日
- 管理画面: 4人日
合計: 17人日

複雑度調整（平均1.1）: 17 × 1.1 = 18.7人日
技術係数（Next.js: 1.0）: 18.7 × 1.0 = 18.7人日
チーム係数（中級: 1.0）: 18.7 × 1.0 = 18.7人日
バッファ込み: 18.7 × 1.2 = 22.4人日

→ 約23人日
```

---

## 2. 三点見積もり（PERT法）

### 概要

各タスクに対して楽観値（O）、最頻値（M）、悲観値（P）の3つの見積もりを行い、期待値と標準偏差を算出する手法。不確実性を定量化できる。

### 計算式

**期待値（Expected）:**
```
E = (O + 4M + P) / 6
```

**標準偏差（Standard Deviation）:**
```
σ = (P - O) / 6
```

**分散（Variance）:**
```
V = σ²
```

### プロジェクト全体の計算

**全体の期待値:**
```
E_total = Σ E_i （各タスクの期待値の合計）
```

**全体の標準偏差:**
```
σ_total = √(Σ V_i) （各タスクの分散の合計の平方根）
```

### 信頼区間

| 信頼度 | 計算式 |
|--------|--------|
| 68% | E ± 1σ |
| 90% | E ± 1.645σ |
| 95% | E ± 1.96σ |
| 99% | E ± 2.576σ |

### 計算例

```
ECサイト構築の例:

タスク: ユーザー認証
- 楽観値(O): 2人日
- 最頻値(M): 3人日
- 悲観値(P): 6人日

期待値: (2 + 4×3 + 6) / 6 = 3.33人日
標準偏差: (6 - 2) / 6 = 0.67人日

全タスク合計:
- 期待値合計: 20人日
- 分散合計: 4.5
- 標準偏差: √4.5 = 2.12人日

90%信頼区間: 20 ± 1.645 × 2.12 = 16.5〜23.5人日
```

### 三点見積もりの目安

**楽観値(O)の設定:**
- すべてが順調に進んだ場合
- 既知の技術、経験豊富な領域
- 問題が発生しない前提

**最頻値(M)の設定:**
- 最も起こりそうな工数
- 過去の類似経験から導出
- 通常の問題発生を考慮

**悲観値(P)の設定:**
- 最悪のケース（ただし現実的な範囲）
- 技術的問題、要件変更を考慮
- ただし、災害レベルの事象は除外

**O, M, Pの関係の目安:**
```
標準的: O : M : P = 0.7 : 1.0 : 1.5
不確実性高: O : M : P = 0.5 : 1.0 : 2.0
不確実性低: O : M : P = 0.8 : 1.0 : 1.3
```

---

## 3. 類推法（アナロジー見積もり）

### 概要

過去の類似プロジェクトの実績データを基に、今回のプロジェクトの工数を推定する手法。

### 適用条件

以下の情報が利用可能な場合に適用:
- 類似プロジェクトの実績工数
- 類似プロジェクトの規模・複雑度
- 両プロジェクトの差異を評価可能

### 計算手順

#### Step 1: 類似度評価

| 評価項目 | 重み | 類似度(0-100%) |
|----------|------|---------------|
| 機能範囲 | 30% | - |
| 技術スタック | 25% | - |
| 複雑度 | 25% | - |
| ドメイン知識 | 20% | - |

**総合類似度:**
```
総合類似度 = Σ(重み × 類似度)
```

#### Step 2: 規模調整係数算出

```
規模調整係数 = 今回の機能数 / 類似案件の機能数
```

#### Step 3: 複雑度調整

```
複雑度調整係数 = 今回の平均複雑度 / 類似案件の平均複雑度
```

複雑度の数値化:
- 低: 1.0
- 中: 1.5
- 高: 2.0

#### Step 4: 工数算出

```
見積もり工数 = 類似案件実績 × 規模調整係数 × 複雑度調整係数 × (2 - 総合類似度)
```

※ 類似度が低いほど調整幅が大きくなる

### 計算例

```
類似案件: 小規模ECサイト
- 実績工数: 30人日
- 機能数: 5
- 平均複雑度: 1.3

今回案件:
- 機能数: 8
- 平均複雑度: 1.5
- 総合類似度: 75%

規模調整係数: 8 / 5 = 1.6
複雑度調整係数: 1.5 / 1.3 = 1.15
類似度調整: 2 - 0.75 = 1.25

見積もり工数: 30 × 1.6 × 1.15 × 1.25 = 69人日
```

### 注意事項

- 類似度が50%未満の場合は信頼性が低い
- 類似案件の実績データの正確性に依存
- 技術進歩や市場環境の変化を考慮

---

## 4. ファンクションポイント法（参考）

### 概要

システムの機能量を標準化された方法で計測し、工数を算出する手法。大規模プロジェクトや組織的な見積もりに適している。

### 機能タイプと複雑度

| 機能タイプ | 低 | 中 | 高 |
|-----------|-----|-----|-----|
| 外部入力(EI) | 3 | 4 | 6 |
| 外部出力(EO) | 4 | 5 | 7 |
| 外部照会(EQ) | 3 | 4 | 6 |
| 内部論理ファイル(ILF) | 7 | 10 | 15 |
| 外部インターフェースファイル(EIF) | 5 | 7 | 10 |

### 工数への変換

```
工数(人日) = ファンクションポイント × 生産性係数
```

**生産性係数の目安:**
- 高生産性チーム: 0.3〜0.5 人日/FP
- 標準チーム: 0.5〜0.8 人日/FP
- 低生産性チーム: 0.8〜1.2 人日/FP

※ 本スキルでは詳細なFP計算は行わず、参考情報として提供
