---
name: requirements-definition
description: ソフトウェア開発プロジェクトの要件定義を対話的に行うためのワークフローガイド。機能要件・非機能要件を構造化して引き出し、明確なドキュメントを作成。ユーザーが「要件定義をしたい」「要件を整理したい」「新しいプロジェクトの要件を決めたい」「機能要件を洗い出したい」などと言及した場合にトリガー。
---

# 要件定義ワークフロー

このスキルは、ソフトウェア開発プロジェクトの要件定義を対話的に行うためのワークフローを提供する。質問を通じて要件を引き出し、構造化されたドキュメントを作成する。

## ワークフロー概要

要件定義は以下の4フェーズで進行：

1. **プロジェクト概要の把握** - 背景、目的、スコープを明確化
2. **機能要件の定義** - システムが実現すべき機能を洗い出し
3. **非機能要件の定義** - 品質特性、制約条件を特定
4. **要件の整理と確認** - 優先度付けと最終確認

## フェーズ1：プロジェクト概要の把握

### 最初の質問

以下の観点でヒアリングを行う：

1. **プロジェクトの背景**
   - このプロジェクトを始めるきっかけは何ですか？
   - 現状の課題や問題点は何ですか？

2. **目的とゴール**
   - このシステムで何を実現したいですか？
   - 成功の基準は何ですか？

3. **ステークホルダー**
   - 主な利用者は誰ですか？
   - 意思決定者や承認者は誰ですか？

4. **スコープ**
   - 対象範囲に含めるものは何ですか？
   - 明確に対象外とするものはありますか？

5. **制約条件**
   - 予算、期限、技術的制約はありますか？
   - 既存システムとの連携は必要ですか？

### 情報収集のコツ

- ユーザーが曖昧な回答をした場合は具体例を求める
- 「他には？」「それ以外に考えられることは？」と深掘りする
- 矛盾や不明点があれば即座に確認する

## フェーズ2：機能要件の定義

### ユーザー種別の特定

まず、システムを利用するユーザーの種類を特定：

```
例：
- 一般ユーザー（閲覧・操作）
- 管理者（設定・管理）
- システム管理者（保守・監視）
```

### 機能の洗い出し

各ユーザー種別について：

1. **主要な操作**
   - そのユーザーは主に何をしますか？
   - 最も頻繁に行う操作は何ですか？

2. **具体的なシナリオ**
   - 典型的な利用シーンを教えてください
   - 開始から終了までの流れは？

3. **入出力**
   - どのようなデータを入力しますか？
   - どのような結果・出力を期待しますか？

### 機能要件の記述形式

```markdown
### FR-XXX: [機能名]

**概要**: [機能の簡潔な説明]

**アクター**: [この機能を使用するユーザー種別]

**事前条件**: [この機能を実行するための前提条件]

**基本フロー**:
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

**代替フロー**: [例外的な処理パス]

**事後条件**: [機能実行後の状態]

**優先度**: 必須 / 重要 / あれば良い
```

## フェーズ3：非機能要件の定義

### 非機能要件のカテゴリ

以下のカテゴリについてヒアリング：

| カテゴリ | 質問例 |
|---------|--------|
| **性能** | 同時接続ユーザー数は？応答時間の許容範囲は？ |
| **可用性** | 稼働時間の要件は？メンテナンス時間は許容される？ |
| **セキュリティ** | 認証方式は？データの暗号化は必要？ |
| **拡張性** | 将来のユーザー数増加の見込みは？ |
| **保守性** | ログ出力は必要？監視・アラートは？ |
| **互換性** | 対応ブラウザ・OS・デバイスは？ |
| **法規制** | 準拠すべき法律・規制は？ |

### 非機能要件の記述形式

```markdown
### NFR-XXX: [要件名]

**カテゴリ**: [性能/可用性/セキュリティ等]

**要件**: [具体的な要件内容]

**測定基準**: [達成を確認する方法]

**優先度**: 必須 / 重要 / あれば良い
```

## フェーズ4：要件の整理と確認

### 優先度の決定

収集した要件に対して優先度を付ける：

| 優先度 | 定義 |
|--------|------|
| **必須（Must）** | これがないとシステムとして成立しない |
| **重要（Should）** | 重要だが、最悪なくても運用可能 |
| **あれば良い（Could）** | あると便利だが、後回しにできる |

ユーザーに各要件の優先度を確認する。

### 最終確認

要件一覧を提示し、以下を確認：

1. 漏れている要件はないか
2. 優先度は適切か
3. 矛盾する要件はないか
4. 実現可能性に問題はないか

## 出力形式

要件定義完了後、以下の構造でドキュメントを生成：

```markdown
# [プロジェクト名] 要件定義書

## 1. プロジェクト概要
### 1.1 背景
### 1.2 目的
### 1.3 スコープ
### 1.4 ステークホルダー
### 1.5 制約条件

## 2. 機能要件
### 2.1 ユーザー種別
### 2.2 機能一覧
### 2.3 機能詳細
  - FR-001: [機能名]
  - FR-002: [機能名]
  ...

## 3. 非機能要件
### 3.1 性能要件
### 3.2 可用性要件
### 3.3 セキュリティ要件
### 3.4 その他の要件

## 4. 優先度マトリクス

## 5. 用語集（必要に応じて）
```

## マークダウンスキルとの連携

要件定義が完了したら、`markdown-writer`スキルを自動的に呼び出し、ドキュメントを整形する。

**連携時の指示**：
```
要件定義が完了しました。markdown-writerスキルを使用して、
上記の要件定義書を技術ドキュメントとして整形してください。
```

## ヒアリングのベストプラクティス

### 効果的な質問

- **オープンクエスチョン**：「どのような〜」「なぜ〜」で始める
- **具体化**：「例えば？」「具体的には？」
- **確認**：「〜という理解で合っていますか？」

### 避けるべきこと

- 誘導質問（答えを示唆する質問）
- 一度に複数の質問をする
- 技術用語を説明なしに使う

### 情報の整理

- ヒアリング中も定期的に要点をまとめる
- 不明点リストを作成し、後で確認する
- 矛盾があれば即座に指摘して解消する
