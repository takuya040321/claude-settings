# コミットルール

Conventional Commits形式に基づくコミットメッセージ規約。

## コミットメッセージ形式

```
<type>: <subject>

<body>
```

- **type**: 英語プレフィックス（必須）
- **subject**: 日本語で簡潔に（必須）
- **body**: 日本語で補足説明（任意・簡潔に）

## Type（必須）

| Type | 説明 |
|------|------|
| `feat` | 新機能の追加 |
| `fix` | バグ修正 |
| `docs` | ドキュメントのみの変更 |
| `style` | コードの意味に影響しない変更（空白、フォーマット等） |
| `refactor` | バグ修正や機能追加ではないコード変更 |
| `perf` | パフォーマンス改善 |
| `test` | テストの追加・修正 |
| `build` | ビルドシステムや外部依存に関する変更 |
| `ci` | CI設定ファイルやスクリプトの変更 |
| `chore` | その他の変更（ソースやテストの変更を含まない） |
| `revert` | 以前のコミットの取り消し |

## Subject（必須）

- 50文字以内
- 日本語で記述
- 「〜する」「〜を追加」などの形式
- 文末に句点を付けない

## Body（任意）

- 日本語で簡潔に
- 必要な場合のみ記述
- 変更の理由を補足

## 例

```bash
# 新機能
feat: ユーザー認証機能を追加

# バグ修正
fix: ログイン時のnullポインタ例外を修正

# バグ修正（Bodyあり）
fix: セッションタイムアウトを修正

トークン更新処理が正しく動作していなかった

# リファクタリング
refactor: データベース接続処理を共通化

# ドキュメント
docs: APIリファレンスを更新

# テスト
test: ユーザーサービスのテストを追加
```

## コミットの粒度

- 1つのコミットは1つの論理的な変更のみを含む
- 大きな変更は小さな単位に分割する
- ビルドが通る状態を維持する
- WIP（作業中）コミットは避ける

## ブランチ命名規則

```
<type>/<issue-number>-<short-description>
```

### 例

```
feat/123-user-authentication
fix/456-login-error
docs/789-api-documentation
refactor/101-database-layer
```

### Type

| Type | 用途 |
|------|------|
| `feat` | 新機能開発 |
| `fix` | バグ修正 |
| `hotfix` | 緊急修正 |
| `docs` | ドキュメント |
| `refactor` | リファクタリング |
| `test` | テスト追加 |
| `chore` | 雑務 |
